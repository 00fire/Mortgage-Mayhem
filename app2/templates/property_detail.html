{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{{ property.property_city }} – Property Details</title>
  <link rel="stylesheet" href="{% static 'property_detail.css' %}">
  <link rel="stylesheet" href="{% static 'css/messages.css' %}">
</head>
<body>
  {% include "_messages.html" %}
  <div class="property-detail-wrapper">
    <h1>{{ property.property_city }} – Property Details</h1>

    <div class="property-detail">
      {% if property.property_image %}
        <img
          src="{{ property.property_image.url }}"
          alt="{{ property.property_city }}"
          width="300" height="200"
        >
      {% endif %}

      <p><strong>City:</strong> {{ property.property_city }}</p>
      <p><strong>Street:</strong> {{ property.property_street }}</p>
      <p><strong>Description:</strong> {{ property.property_description }}</p>
      <p><strong>Price:</strong> ${{ property.property_price }}</p>
      <p><strong>Rooms:</strong> {{ property.property_rooms }}</p>
      <p><strong>Bedrooms:</strong> {{ property.property_bedrooms }}</p>
      <p><strong>Bathrooms:</strong> {{ property.property_bathrooms }}</p>
      <p><strong>Square Meters:</strong> {{ property.property_square_meters_size }} m²</p>
    </div>

    <p><a href="{% url 'homepage' %}">← Back to Homepage</a></p>
    <p>User: {{ request.user.username }} (role={{ request.user.profile.role }})</p>

    {# buyer-only “Make an Offer” button #}
    {% if request.user.is_authenticated and request.user.profile.role == "buyer" and not property.property_sold_status and property.seller != request.user %}
      <div class="offer-btn-container">
        <a href="{% url 'make_offer' property.id %}" class="btn make-offer-btn">
          Make an Offer
        </a>
      </div>
    {% endif %}
  </div>
</body>
</html>
